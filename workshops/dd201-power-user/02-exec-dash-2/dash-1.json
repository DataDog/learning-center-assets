{
  "title": "Storedog Executive Dashboard",
  "description": "",
  "widgets": [
    {
      "id": 27339627637974,
      "definition": {
        "title": "Most viewed pages",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1892204121066824,
            "definition": {
              "title": "Performance overview of most popular pages",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "cell_display_mode": "bar",
                      "limit": {
                        "count": 15,
                        "order": "desc"
                      }
                    },
                    {
                      "formula": "query2",
                      "cell_display_mode": "number"
                    },
                    {
                      "formula": "query3",
                      "cell_display_mode": "number",
                      "conditional_formats": [
                        {
                          "palette": "red_on_white",
                          "value": 4000000000,
                          "comparator": ">"
                        },
                        {
                          "palette": "yellow_on_white",
                          "value": 2500000000,
                          "comparator": ">"
                        },
                        {
                          "palette": "green_on_white",
                          "value": 2500000000,
                          "comparator": "<="
                        }
                      ]
                    },
                    {
                      "formula": "query4",
                      "cell_display_mode": "number",
                      "conditional_formats": [
                        {
                          "palette": "red_on_white",
                          "value": 300000000,
                          "comparator": ">"
                        },
                        {
                          "palette": "yellow_on_white",
                          "value": 100000000,
                          "comparator": ">"
                        },
                        {
                          "palette": "green_on_white",
                          "value": 100000000,
                          "comparator": "<="
                        }
                      ]
                    },
                    {
                      "formula": "query5",
                      "cell_display_mode": "number",
                      "conditional_formats": [
                        {
                          "palette": "red_on_white",
                          "value": 0.25,
                          "comparator": ">"
                        },
                        {
                          "palette": "yellow_on_white",
                          "value": 0.1,
                          "comparator": ">"
                        },
                        {
                          "palette": "green_on_white",
                          "value": 0.1,
                          "comparator": "<="
                        }
                      ]
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "@type:view $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@view.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 15
                        }
                      ]
                    },
                    {
                      "search": {
                        "query": "@type:view $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "metric": "@view.loading_time",
                        "aggregation": "pc75"
                      },
                      "name": "query2",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@view.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 15
                        }
                      ]
                    },
                    {
                      "search": {
                        "query": "@type:view $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "metric": "@view.largest_contentful_paint",
                        "aggregation": "pc75"
                      },
                      "name": "query3",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@view.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 15
                        }
                      ]
                    },
                    {
                      "search": {
                        "query": "@type:view $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "metric": "@view.first_input_delay",
                        "aggregation": "pc75"
                      },
                      "name": "query4",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@view.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 15
                        }
                      ]
                    },
                    {
                      "search": {
                        "query": "@type:view $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "metric": "@view.cumulative_layout_shift",
                        "aggregation": "pc75"
                      },
                      "name": "query5",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@view.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 15
                        }
                      ]
                    }
                  ]
                }
              ],
              "has_search_bar": "never",
              "custom_links": [
                {
                  "link": "/dash/integration/rum_errors?tpl_var_viewName={{@view.name.value}}",
                  "label": "Analyze errors for {{@view.name.value}}"
                },
                {
                  "link": "/dash/integration/rum_resources?tpl_var_viewName={{@view.name.value}}",
                  "label": "View resources for {{@view.name.value}}"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 3
      }
    },
    {
      "id": 4927489491839002,
      "definition": {
        "title": "User demographics",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 7403221474153908,
            "definition": {
              "title": "Number of sessions by country",
              "title_size": "16",
              "title_align": "left",
              "type": "geomap",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "limit": {
                        "count": 250,
                        "order": "desc"
                      }
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@geo.country_iso_code",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 250
                        }
                      ]
                    }
                  ]
                }
              ],
              "style": {
                "palette": "hostmap_blues",
                "palette_flip": false
              },
              "view": {
                "focus": "WORLD"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 6561631874510478,
            "definition": {
              "title": "Top 10 countries",
              "type": "toplist",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@geo.country",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 3191763282439622,
            "definition": {
              "title": "Top 10 browser usage share",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "(1 - (query1 - query2) / query1) * 100",
                      "alias": "Usage share"
                    }
                  ],
                  "response_format": "timeseries",
                  "on_right_yaxis": false,
                  "queries": [
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": []
                    },
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query2",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@browser.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 10
                        }
                      ]
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "label": "",
                "scale": "linear",
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 5565359086828424,
            "definition": {
              "title": "Top 5 devices ",
              "type": "toplist",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "limit": {
                        "count": 5,
                        "order": "desc"
                      }
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@device.type",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 5
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 5317181547041988,
            "definition": {
              "title": "Top 5 operating systems ",
              "type": "toplist",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "limit": {
                        "count": 5,
                        "order": "desc"
                      }
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "search": {
                        "query": "@type:session @session.type:user $env"
                      },
                      "data_source": "rum",
                      "compute": {
                        "aggregation": "count"
                      },
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "group_by": [
                        {
                          "facet": "@os.name",
                          "sort": {
                            "aggregation": "count",
                            "order": "desc"
                          },
                          "limit": 5
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 1738717608642210,
            "definition": {
              "title": "Total income per minute",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Total Income",
                      "formula": "default_zero(query1) - default_zero(query2)"
                    }
                  ],
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "sum:cartItem.price{*}.rollup(sum, 60).as_count()"
                    },
                    {
                      "name": "query2",
                      "data_source": "metrics",
                      "query": "sum:cartItem.cost{*}.rollup(sum, 60).as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "markers": [
                {
                  "label": "Lights stay on",
                  "value": "y = 200",
                  "display_type": "ok solid"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 11,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 3,
        "width": 12,
        "height": 8,
        "is_column_break": true
      }
    },
    {
      "id": 953342866495484,
      "definition": {
        "title": "Running containers by image",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_size": "0",
        "legend_layout": "auto",
        "time": {
          "live_span": "1h"
        },
        "type": "timeseries",
        "requests": [
          {
            "response_format": "timeseries",
            "queries": [
              {
                "query": "sum:docker.containers.running{$env} by {docker_image}.fill(0)",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "display_type": "bars"
          }
        ],
        "custom_links": []
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 2
      }
    },
    {
      "id": 7148286211520248,
      "definition": {
        "title": "Most CPU-intensive containers",
        "title_size": "16",
        "title_align": "left",
        "time": {
          "live_span": "1h"
        },
        "type": "toplist",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "limit": {
                  "count": 5,
                  "order": "desc"
                }
              }
            ],
            "style": {
              "palette": "cool"
            },
            "response_format": "scalar",
            "queries": [
              {
                "query": "avg:docker.cpu.user{$env} by {container_name}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "max"
              }
            ]
          }
        ],
        "custom_links": []
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 4,
        "height": 2
      }
    }
  ],
  "template_variables": [
    {
      "name": "env",
      "prefix": "env",
      "available_values": [
        "dd201"
      ],
      "default": "dd201"
    },
    {
      "name": "service",
      "prefix": "service",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "docker_image",
      "prefix": "docker_image",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "view.name",
      "prefix": "@view.name",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": [],
  "reflow_type": "fixed",
  "id": "urp-yfp-tri"
}