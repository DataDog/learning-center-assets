(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,a,t){e.exports=t(591)},591:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(24),l=t.n(s),i=t(215),o=t(216),c=t(239),m=t(217),u=t(240),d=t(90),p=t(218),h=t(5),E=t.n(h),g=t(30),f=t(228),v=t.n(f),w=t(234),S=t.n(w),b=t(229),y=t.n(b),C=t(230),N=t.n(C),k=t(92),B=t.n(k),U=t(27),q=t.n(U),O=t(132),P=t.n(O),x=t(58),D=t.n(x),j=t(232),G=t.n(j),R=t(25),W=t.n(R),_=t(231),H=t.n(_),T=t(235),L=t.n(T),F=t(233),z=t.n(F),I=t(238),A=t.n(I),X=t(40),K=t.n(X),J=t(41),M=t.n(J),Q=t(42),V=t.n(Q),Y=t(224),$=t.n(Y),Z=t(220),ee=t.n(Z),ae=t(221),te=t.n(ae),ne=t(222),re=t.n(ne),se=t(223),le=t.n(se),ie=t(93),oe=t.n(ie),ce=r.a.createElement("div",null,r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(ee.a,null)),r.a.createElement(V.a,{primary:"Dashboard"})),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(te.a,null)),r.a.createElement(V.a,{primary:"Pump Status"})),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(re.a,null)),r.a.createElement(V.a,{primary:"Sensor Status"})),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(le.a,null)),r.a.createElement(V.a,{primary:"User Demand"}))),me=r.a.createElement("div",null,r.a.createElement($.a,{inset:!0},"Saved reports"),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(oe.a,null)),r.a.createElement(V.a,{primary:"Current month"})),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(oe.a,null)),r.a.createElement(V.a,{primary:"Last quarter"})),r.a.createElement(K.a,{button:!0},r.a.createElement(M.a,null,r.a.createElement(oe.a,null)),r.a.createElement(V.a,{primary:"Yearly Usage"}))),ue=t(225),de=t.n(ue),pe=t(226),he=t.n(pe),Ee=t(91),ge=t.n(Ee),fe=t(130),ve=t.n(fe),we=t(131),Se=t.n(we),be=t(227),ye=t.n(be),Ce=t(129),Ne=t.n(Ce),ke=t(88),Be=t.n(ke),Ue=[{name:"Mon",Users:2200,GPH:3400},{name:"Tue",Users:1280,GPH:2398},{name:"Wed",Users:5e3,GPH:4300},{name:"Thu",Users:4780,GPH:2908},{name:"Fri",Users:5890,GPH:4800},{name:"Sat",Users:4390,GPH:3800},{name:"Sun",Users:4490,GPH:4300}];var qe=function(){return r.a.createElement(de.a,{width:"99%",height:320},r.a.createElement(he.a,{data:Ue},r.a.createElement(ve.a,{dataKey:"name"}),r.a.createElement(Se.a,null),r.a.createElement(ye.a,{vertical:!1,strokeDasharray:"3 3"}),r.a.createElement(Ne.a,null),r.a.createElement(Be.a,null),r.a.createElement(ge.a,{type:"monotone",dataKey:"Users",stroke:"#82ca9d"}),r.a.createElement(ge.a,{type:"monotone",dataKey:"GPH",stroke:"#8884d8",activeDot:{r:8}})))},Oe=t(55),Pe=t.n(Oe),xe=t(57),De=t.n(xe),je=t(19),Ge=t.n(je),Re=t(56),We=t.n(Re),_e=t(37),He=t.n(_e),Te=t(89),Le=t.n(Te);var Fe=Object(g.withStyles)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.pumps;function n(e){e.preventDefault(),console.log(e.target.id)}return r.a.createElement(W.a,{className:a.root},r.a.createElement(Pe.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(He.a,null,r.a.createElement(Ge.a,null,"Pump Name"),r.a.createElement(Ge.a,{numeric:!0},"Pump Status"),r.a.createElement(Ge.a,{numeric:!0},"Gallons Per Hour"))),r.a.createElement(De.a,null,t.map(function(e){return r.a.createElement(He.a,{key:e.id},r.a.createElement(Ge.a,{component:"th",scope:"row"},e.name),r.a.createElement(Ge.a,{numeric:!0},r.a.createElement(Le.a,{id:e.id,checked:"ON"==e.status?1:0,onClick:n,disabled:"true",color:"primary"}))," ",r.a.createElement(Ge.a,{numeric:!0},e.gph))}))))});var ze=Object(g.withStyles)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.users;return r.a.createElement(W.a,{className:a.root},r.a.createElement(Pe.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(He.a,null,r.a.createElement(Ge.a,null,"City Name"),r.a.createElement(Ge.a,{numeric:!0},"Demand in GPH"),r.a.createElement(Ge.a,{numeric:!0},"Total Users"))),r.a.createElement(De.a,null,t.map(function(e){return r.a.createElement(He.a,{key:e.id},r.a.createElement(Ge.a,{component:"th",scope:"row"},e.name),r.a.createElement(Ge.a,{numeric:!0},e.demand_gph),r.a.createElement(Ge.a,{numeric:!0},e.users))}))))});var Ie=Object(g.withStyles)({root:{width:"100%",overflowX:"auto"},table:{minWidth:700}})(function(e){var a=e.classes,t=e.sensors;return r.a.createElement(W.a,{className:a.root},r.a.createElement(Pe.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(He.a,null,r.a.createElement(Ge.a,null,"Sensor Name"),r.a.createElement(Ge.a,{numeric:!0},"Sensor Site"),r.a.createElement(Ge.a,{numeric:!0},"Sensor Value"))),r.a.createElement(De.a,null,t.map(function(e){return r.a.createElement(He.a,{key:e.id},r.a.createElement(Ge.a,{component:"th",scope:"row"},e.name),r.a.createElement(Ge.a,{numeric:!0},e.site),r.a.createElement(Ge.a,{numeric:!0},e.value))}))))}),Ae=t(59),Xe=t.n(Ae),Ke=t(45),Je=t.n(Ke),Me=t(94),Qe=t.n(Me),Ve=t(237),Ye=t.n(Ve),$e=t(236),Ze=t.n($e),ea=t(38),aa=t.n(ea),ta=(t(16),"");var na=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1,pumpStatus:[{id:1,name:"Pump 1",status:"ON",gph:400}],userStatus:[{id:1,uid:"42023-12024-4951A",name:"Test City",demand_gph:10,users:200}],sensorsStatus:[{id:1,name:"Test Sensor",value:100,added:Date.now(),site:"Naples"}],requestsOpen:!1,requestCount:0,newUser:{name:"",demand_gph:"",users:""},userList:[]},t.pollForSensors=function(){setTimeout(function(){t.simulateSensorReads(),t.pollForSensors()},3e3)},t.componentDidMount=function(){aa.a.get(ta+"/status",{crossdomain:!0}).then(function(e){console.log(e.data),t.setState({pumpStatus:e.data.pump_status.status}),t.setState({userStatus:e.data.users}),t.setState({sensorsStatus:e.data.sensor_status.system_status})}),t.pollForSensors()},t.simulateSensorReads=function(){aa.a.get(ta+"/simulate_sensors",{crossdomain:!0}).then(function(e){t.setState({sensorsStatus:e.data.system_status})})},t.handleNewPump=function(e){e.preventDefault(),aa.a.post(ta+"/add_pump",{crossdomain:!0}).then(function(e){t.setState({pumpStatus:e.data})})},t.handleRequestConcurrent=function(e){if(e.preventDefault(),e.target.id){var a=e.target.id/10,n=e.target.id;aa.a.post(ta+"/generate_requests",{concurrent:a,total:n,url:"/users"},{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:n})})}else{var r=e.target.parentElement.id/10,s=e.target.parentElement.id;aa.a.post(ta+"/generate_requests",{concurrent:r,total:s,url:"/users"},{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:s})})}},t.handleUserRequestConcurrent=function(e){e.preventDefault(),aa.a.get(ta+"/generate_requests_user",{crossdomain:!0}).then(function(e){t.setState({requestsOpen:!0,requestCount:100})})},t.handleUserSubmit=function(e){e.preventDefault(),aa.a.post(ta+"/users",t.state.newUser,{crossdomain:!0}).then(function(e){console.log(e.data),aa.a.get(ta+"/status",{crossdomain:!0}).then(function(e){t.setState({userStatus:e.data.users})})}),console.log(t.state.newUser),console.log("user submitted")},t.handleUserChange=function(e){var a=Object.assign({},t.state.newUser);a[e.target.id]=e.target.value,t.setState({newUser:a})},t.handleConcurrentClose=function(e,a){"clickaway"!==a&&t.setState({requestsOpen:!1})},t.handleDrawerOpen=function(){t.setState({open:!0})},t.handleDrawerClose=function(){t.setState({open:!1})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{position:"absolute",className:E()(e.appBar,this.state.open&&e.appBarShift)},r.a.createElement(N.a,{disableGutters:!this.state.open,className:e.toolbar},r.a.createElement(D.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:E()(e.menuButton,this.state.open&&e.menuButtonHidden)},r.a.createElement(H.a,null)),r.a.createElement(q.a,{variant:"title",color:"inherit",noWrap:!0,className:e.title},"Dashboard"),r.a.createElement(D.a,{color:"inherit"},r.a.createElement(G.a,{badgeContent:0},r.a.createElement(z.a,null))))),r.a.createElement(S.a,{variant:"permanent",classes:{paper:E()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(D.a,{onClick:this.handleDrawerClose},r.a.createElement(L.a,null))),r.a.createElement(P.a,null),r.a.createElement(B.a,null,ce),r.a.createElement(P.a,null),r.a.createElement(B.a,null,me)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(q.a,{variant:"display1",gutterBottom:!0},"Water Demand"),r.a.createElement(q.a,{component:"div",className:e.chartContainer},r.a.createElement(qe,null)),r.a.createElement(q.a,{variant:"display1",gutterBottom:!0},"Pump Status ",r.a.createElement(Je.a,{style:{float:"right"},variant:"contained",color:"primary",onClick:this.handleNewPump},"Add Pump")),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Fe,{pumps:this.state.pumpStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(q.a,{variant:"display1",gutterBottom:!0},"City Water Sensor Status"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ie,{sensors:this.state.sensorsStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(q.a,{variant:"display1",gutterBottom:!0},"City Water Usage"),r.a.createElement("div",{className:e.tableContainer},r.a.createElement(ze,{users:this.state.userStatus})),r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(Xe.a,{container:!0,direction:"row",justify:"space-around",alignItems:"stretch"},r.a.createElement(W.a,{className:e.paper},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(q.a,{align:"center",variant:"display1",gutterBottom:!0},"Add City to Water System"),r.a.createElement(Xe.a,{item:!0,xs:12},r.a.createElement(Qe.a,{id:"name",label:"City name",placeholder:"City Name",className:e.textField,margin:"normal",value:this.state.newUser.name,onChange:this.handleUserChange})),r.a.createElement(Xe.a,{item:!0,xs:!0},r.a.createElement(Qe.a,{id:"demand_gph",label:"Demand in GPH",placeholder:"400",className:e.textField,margin:"normal",value:this.state.newUser.demand_gph,onChange:this.handleUserChange})),r.a.createElement(Xe.a,{item:!0,xs:!0},r.a.createElement(Qe.a,{id:"users",label:"Total Water Users",placeholder:"1000",className:e.textField,margin:"normal",value:this.state.newUser.users,onChange:this.handleUserChange})),r.a.createElement(Xe.a,{item:!0,xs:!0},r.a.createElement(Je.a,{style:{float:"right"},size:"large",variant:"contained",color:"primary",className:e.submitButton,onClick:this.handleUserSubmit},"Create City"))),r.a.createElement(W.a,{className:e.paper},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(q.a,{align:"center",variant:"display1",gutterBottom:!0},"Generate API Traffic"),r.a.createElement("br",null),r.a.createElement(Je.a,{id:"100",className:e.trafficButton,size:"large",variant:"contained",color:"default",onClick:this.handleRequestConcurrent},"100 users @ 10 concurrent requests"),r.a.createElement("br",null),r.a.createElement(Je.a,{id:"200",className:e.trafficButton,size:"large",variant:"contained",color:"primary",onClick:this.handleRequestConcurrent},"200 users @ 20 concurrent requests"),r.a.createElement("br",null),r.a.createElement(Je.a,{id:"300",className:e.trafficButton,size:"large",variant:"contained",color:"secondary",onClick:this.handleRequestConcurrent},"300 users @ 30 concurrent requests"),r.a.createElement("br",null),r.a.createElement(Je.a,{id:"100",style:{backgroundColor:Ze.a[500]},className:e.trafficButton,size:"large",variant:"contained",color:"secondary",onClick:this.handleUserRequestConcurrent},"Generate Requests for Random User")))),r.a.createElement(Ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.requestsOpen,autoHideDuration:1e3,onClose:this.handleConcurrentClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.state.requestCount," requests created @ ",this.state.requestCount/10," concurrent requests. "),action:[r.a.createElement(D.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.handle100Close},r.a.createElement(A.a,null))]})))}}]),a}(r.a.Component),ra=Object(g.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{},paper:{marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:1.5*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400},submitButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit+20,marginBottom:e.spacing.unit+20,width:100},trafficButton:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit}}})(na),sa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function la(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(ra,null),document.querySelector("#root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");sa?(function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):la(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):la(e)})}}()}},[[241,1,2]]]);
//# sourceMappingURL=main.4dc62f8d.chunk.js.map